# Open-Source-SW

## top
`top` **명령어는 프로세스의 CPU, 메모리 등 시스템 상태를 실시간으로 모니터링할 수 있는 유틸리티입니다. 실행하면 CPU 사용률, 메모리 사용률, Swap 사용량, 프로세스 수 등 시스템 상태를 간단히 표시하고, 상세 정보를 확인할 수 있습니다.

예시:
![스크린샷](https://github.com/Junslck/Open-Source-SW/assets/131230124/157b4e54-d185-456c-91f4-61453197eb6a)
1. 위 부분에 위치하는 영역은 요약 영역입니다. 이 요약 영역은 전체 프로세스가 OS에 대해서 리소스를 어느정도 차지하고 있는지를 알려줍니다. 요약 영역에 나타나는 대표적인 값은 시간,유저,로드 애버러지, 테스크,CPU,메모리가 있습니다.
  - **시스템 현재 시간, OS가 살아있는 시간, 유저 세션수** `top` - 옆에 보이는 숫자가 시스템의 현재 시간입니다. 이 시간은 GMT 기준으로 표시된다. 다음 표시되는 숫자는 OS가 얼마나 살아있는지를 나타내고, 그 옆에 나타나는 것이 현재 접속중인 유저 세션 수 입니다. 
  - **로드 애버리지**: CPU Load의 이동 평균을 1분, 5분, 15분 단위로 표시합니다. CPU Load란 CPU가 수행하는 작업의 양을 의미합니다.
  - **Tasks**: 2번쨰 줄에는 Tasks에 관한 내용이 출력됩니다. Taske는 현재 프로세스들의 상태를 나타내주는 영역입니다. Total은 전체 프로세스, running은 running 상태인 프로세스, sleeping은 대기상태인 process, stopped는 종료된 프로세스, zombies는 좀비상태인 프로세스의 수를 나타냅니다.
  - **CPU 사용랑**: Tasks 아래 %Cpu(s)라는 영역이 있습니다. 이 영역은 CPU가 어떻게 사용되고 있는지 그 사용율을 보여주는 영역입니다. 모든 값의 총 합은 100% 이며 이를 퍼센테이지로 나누어서 보여줍니다. 각 요소는 아래와 같습니다.

|  코드  |         설명         |
|--------|----------------------------|
|   us   |  유저 영역 CPU 사용률      |
|   sy   |  커널 영역 CPU 사용률      |
|   ni   |  우선순위 설정에 사용되는 CPU 사용률  |
|   id   |  사용하지 않는 CPU 비율    |
|   wa   |  IO 대기 CPU 비율          |
|   hi   |  하드웨어 인터럽트 CPU 사용률  |
|   si   |  소프트웨어 인터럽트 CPU 사용률  |
|   st   |  VM에서 대기하는 CPU 비율  |

  - **메모리 사용량**: %Cpu(s) 영역 아래에 메모리와 관련된 영역이 있습니다. 첫 번째 줄은 RAM의 메모리 영역으로 Mem이라 표시되어 있는 부분입니다. 그리고 아랫줄은 디스크를 메모리처럼 이용하는 Swap 메모리 영역입니다. 일반적으로 Mem의 사용량이 거의 가득 찼을 때 Swap 메모리 영역을 사용합니다. 이 영역은 디스크이기 때문에 RAM 메모리보다 속도가 많이 느린 단점을 가집니다.

|  코드  |       설명       |
|--------|------------------------|
|  total |    총 메모리 양       |
|  free  |  사용 가능한 메모리 양  |
|  used  |  사용 중인 메모리 양   |

2. 디테일 영역: 디테일 영역에는 각 프로세스에 대한 상세한 내용이 나옵니다. 위 스크린샷에서 PID~ 로 시작한는 부분입니다.
 - **PID**: PID는 프로세스 ID이며 프로세스를 구분하기 위한 겹치지않는 고유한 값입니다.
 - **USER**: 해당 프로세스를 실행한 USER 이름 또는 효과를 받는 USER의 이름입니다.
 - **PR&NI**: PR : 커널에 의해서 스케줄링되는 우선순위입니다. NI : PR에 영향을 주는 nice라는 값입니다.
 - **VIRT,RES,SHR,&MEN**: 해당 필드들은 프로세스의 메모리와 관련이 있습니다.
   + **VIRT** : 프로세스가 소비하고 있는 총 메모리입니다. 프로그램이 실행중인 코드, heap, stack과 같은 메모리, IO buffer 메모리를 포함합니다.
   + **RES** : RAM에서 사용중인 메모리의 크기를 나타냅니다.
   + **SHR** : 다른 프로세스와의 공유메모리(Shared Memory)를 나타냅니다.
   + **%MEM** : RAM에서 RES가 차지하는 비율을 나타냅니다.
 - **S**: 프로세스의 현재 상태를 나타냅니다.
 - **TIME+**: 프로세스가 사용한 토탈 CPU 시간을 나타냅니다.
 - **COMMAND**: 해당 프로세스를 실행한 커맨드를 나타냅니다.


## ps
`ps` **명령어는 Process Status의 약어를 이름으로 사용한 명령어 입니다. 이 명령어를 사용하면 현재 구동 중인 프로세스 정보를 확인할 수 있습니다.**

예시:

![스크린샷 2023-05-18 192822](https://github.com/Junslck/Open-Source-SW/assets/131230124/163aaeb7-b73c-4e53-b229-21353e1f7ee9)

`ps` 명령어와 함께 사용되는 주요 옵션들은 다음과 같습니다.
 * **-e**: 현재 사용자뿐만 아니라 다른 사용자들이 구동시킨 모든 프로세스를 보여줍니다.
 * **-f**: 보다 자세한 정보를 보여줍니다.(Full format)
 * **-l**: f보다 더 상세한 정보를 보여줍니다. (Long format)
그럼 이 옵션들을 한 번에 사용해(`ps-efl`) 출력되는 각 필드와 필드의 의미는 다음과 같습니다 (실행 환경마다 필드의 이름 혹은 출력 순서가 다를 수 있습니다.)

예시:

![스크린샷 2023-05-18 201615](https://github.com/Junslck/Open-Source-SW/assets/131230124/667c6dd5-116e-4a43-9744-ee8e38aeb29f)
- **F:프로세스 플래그**
  + 4: used super-user privileges
  + 1: forked but didn't exec
  + 5: 4 & 1 플래그에 모두 해당하는 경우
  + 0: 어떤 플래그에도 해당하지 않는 경우
- **S:프로세스의 현재 상태**
  + R: 실행 중 혹은 실행 될 수 있는 상태
  + S: 대기 상태(약 20초 이상)
  + I: 대기 상태(약 20초 이하)
  + T: 작업 제어에 의해 정지된 상태
  + D: 디스크 관련 대기 상태
  + P: 페이지 관련 대기 상태
  + X: 메모리 확보를 위한 대기 상태
  + &gt;: 인위적으로 우선 순위가 높아진 상태
  + Z: 좀비 프로세스
- **UID**: 프로세스를 실행시킨 사용자 ID
- **PID**: 프로세스에 부여된 ID
- **PPID**: 프로세스의 부모 프로세스 ID (Parent Process ID)
- **C**: CPU 사용량(%)
- **PRI**: 프로세스 우선순위
- **NI**: 프로세스의 CPU 자원 사용 우선순위 (Nice)
- **ADDR**: 프로세스의 메모리 주소
- **SZ**: 가상 메모리 사용량
- **STIME**: 프로세스 시작 시간
- **TTY**: 프로세스가 실행된 터미널의 종류와 번호
- **TIME**: 프로세스에 의해 사용된 시간
- **CMD**: 실행된 프로세스의 이름 혹은 실행된 명령
\> 이것은 인용문이 아닌 기호입니다.

## jobs
`jobs` 명령어는 작업의 상태를 표시하는 명령어 입니다. 현재 쉘 세션에서 실행시킨 백그라운드 작업의 목록이 출력되며, 각 작업에는 번호가 붙어 있어 kill 명령어 뒤에 %번호 등으로 사용할 수 있습니다.
 *사용법*
 예시:
 
 ![스크린샷 2023-05-18 204102](https://github.com/Junslck/Open-Source-SW/assets/131230124/539c2342-4ef4-4631-a8ce-1fa78f631c2e)
 
저는 우분투에 한글을 적용 놓아서 한글로 표기됩니다!
`jobs`로 출력되는 백그라운드 작업의 상태값은 다음과 같습니다.

| 상태              | 설명                                 |
|-------------------|--------------------------------------|
| Running           | 작업이 계속 진행중                    |
| Done              | 작업이 완료되어 0을 반환              |
| Done(code)        | 작업의 종료되었으며 0이 아닌 코드를 반환 |
| Stopped           | 작업이 일시중단                      |
| Stopped(SIGTSTP)  | SIGTSTP 시그널이 작업을 일시 중단     |
| Stopped(SIGSTOP)  | SIGSTOP 시그널이 작업을 일시 중단     |
| Stopped(STGTTIN)  | STGTTIN 시그널이 작업을 일시 중단     |
| Stopped(SIGTTOU)  | SIGTTOU 시그널이 작업을 일시 중단     |

`Jobs`의 옵션
|옵션               | 설명                                |
|------------------|-------------------------------------|
|-l                | 프로세스 그룹 ID를 state 필드 앞에 출력|
| -n        | 프로세스 그룹 중에 대표 프로세스 ID를 출력 |
|-P| 각 프로세스 ID에 대해 한 행씩 출력|
|command| 지정한 명령어를 출력|

## kill

`kill` 명령어는 프로세스를 지정하고 신호(Signal)를 보내서 제어하는 명령어 이고, 주로 프로세스를 종료하는 용도로 많이 사용됩니다.
*사용법* : kill [옵션] [PID]

|옵션|의미|
|--|----|
|-9|프로세스 아이디(PID)를 직접 지정하여 종료시 사용 됩니다.|
|-l|신호(Signal)로 사용할 수 있는 신호(Signal) 이름들을 보여줍니다.|

예시:
-9 사용시

![스크린샷 2023-05-18 215537](https://github.com/Junslck/Open-Source-SW/assets/131230124/1de39cf3-a9b0-4a79-93e9-84371da7b320)

-l 사용시

![스크린샷 2023-05-18 220122](https://github.com/Junslck/Open-Source-SW/assets/131230124/4c2dbbea-5e98-4d0b-91ab-d9c5a7e06232)

-l 옵션을 사용하면 사용 가능한 신호(Signal)을 확인할 수 있습니다.
| 신호(Signal) | 이름    | 신호(Signal) | 의미                                                                                     |
|--------------|---------|--------------|------------------------------------------------------------------------------------------|
| 1            | SIGHUP  | HUP          | hangup, 로그아웃 등의 접속이 끊을 때 발생하는 신호(Signal)로 특정 실행 중인 프로그램의 설정 파일을 변경하고 변화된 내용을 적용할 때 사용됩니다. |
| 2            | SIGINT  | INT          | 현재 작동중인 프로그램의 동작을 멈출 때 사용되며, 일반적으로 <CTRL>+<c>로 입력합니다.              |
| 9            | SIGKILL | KILL         | 프로그램을 강제로 종료할 경우 사용됩니다.                                                 |
| 11           | SIGSEGV | SEGV         | 잘못된 메모리 관리로 인해 발생하는 신호(Signal)입니다.                                      |
| 15           | SIGTERM | TERM         | 실행 중인 프로그램을 정상적인 종료 방법으로 종료하는 신호(Signal)입니다. kill 명령에서 신호를 지정하지 않으면 이 신호를 사용하여 프로그램을 종료합니다. |
| 18           | SIGCONT | CONT         | 중지된 프로그램을 재실행하는데 사용되는 신호(Signal)입니다.                                   |
| 19           | SIGSTOP | STOP         | 프로그램을 중지하는데 사용되는 신호(Signal)입니다.                                           |
| 20           | SIGTSTP | TSTP         | 터미널에서 중지되어 있는 신호(Signal)입니다.                                                 |
  
  위 표 옵션은 자주 사용되는 신호(Signal)로 **강제로 종료시킬때 사용되는 -9 -SIGKILL 등등 옵션을 주어 사용하시면 됩니다**.
 신호(Signal)는 번호, 신호(Signal)이름으로 신호(Signal)로 보낼 수 있습니다.
  
  ### 출처
  - top : 사바라다는 차곡차곡 [출처](https://sabarada.tistory.com/146)
  - ps : 묵묵히 걸어가기 [출처](https://tigris-data-science.tistory.com/entry/Linux-ps-%EB%AA%85%EB%A0%B9%EC%96%B4)
  - jobs : A6K 개발노트 [출처](https://hbase.tistory.com/265)
  - kill :  서버구축이야기!! [출처](https://sisiblog.tistory.com/209)
